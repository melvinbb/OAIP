# language: ru

Функция: Управление студентами в SRM системе
  
  Контекст:
    Дано открыто главное окно SRM системы
    И база данных очищена
  
  Сценарий: Открытие окна добавления студента
    Когда пользователь нажимает кнопку "Добавить студента"
    Тогда должно открыться окно добавления студента
  
  Сценарий: Открытие окна просмотра студентов
    Когда пользователь нажимает кнопку "Посмотреть студентов"
    Тогда должно открыться окно просмотра студентов
  
  Сценарий: Добавление нового студента с корректными данными
    Когда пользователь нажимает кнопку "Добавить студента"
    И пользователь вводит имя "Алексей"
    И пользователь вводит возраст "28"
    И пользователь вводит оценку "отлично"
    И пользователь нажимает кнопку "Сохранить"
    Тогда должен отобразиться успешный диалог с сообщением "Студент успешно добавлен"
    И студент "Алексей" должен быть сохранен в базе данных с возрастом "28" и оценкой "отлично"
  
  Сценарий: Добавление студента с некорректным возрастом
    Когда пользователь нажимает кнопку "Добавить студента"
    И пользователь вводит имя "Тестовый студент"
    И пользователь вводит возраст "не число"
    И пользователь вводит оценку "отлично"
    И пользователь нажимает кнопку "Сохранить"
    Тогда должен отобразиться диалог ошибки с сообщением "Возраст должен быть положительным целым числом"
    И студент "Тестовый студент" не должен быть сохранен в базе данных
  
  Сценарий: Добавление студента с пустым именем
    Когда пользователь нажимает кнопку "Добавить студента"
    И пользователь вводит имя ""
    И пользователь вводит возраст "20"
    И пользователь вводит оценку "отлично"
    И пользователь нажимает кнопку "Сохранить"
    Тогда должен отобразиться диалог ошибки с сообщением "Требуется имя"
    И пустой студент не должен быть сохранен в базе данных
  
  Сценарий: Добавление студента с пустой оценкой
    Когда пользователь нажимает кнопку "Добавить студента"
    И пользователь вводит имя "Тестовый студент"
    И пользователь вводит возраст "20"
    И пользователь вводит оценку ""
    И пользователь нажимает кнопку "Сохранить"
    Тогда должен отобразиться диалог ошибки с сообщением "Требуется оценка"
    И пустой студент не должен быть сохранен в базе данных

  Сценарий: Просмотр списка студентов
    Дано в базе данных есть студенты:
      | name          | age | grade                 |
      | Иван Иванов   | 20  | отлично               |
      | Мария Петрова | 19  | Хорошо                |
      | Алексей Сидоров | 21 | удовлетворительно    |
    Когда пользователь нажимает кнопку "Посмотреть студентов"
    Тогда в таблице должно отображаться "3" студента
    И первая строка должна содержать "Иван Иванов"
    И вторая строка должна содержать "Мария Петрова"
    И третья строка должна содержать "Алексей Сидоров"
  
  Сценарий: Редактирование студента
    Дано в базе данных есть студент с именем "Старое Имя", возрастом "20" и оценкой "удовлетворительно"
    Когда пользователь открывает окно просмотра студентов
    И пользователь выбирает студента "Старое Имя"
    И пользователь нажимает кнопку "Изменить"
    И пользователь изменяет имя на "Новое Имя"
    И пользователь изменяет возраст на "21"
    И пользователь изменяет оценку на "отлично"
    И пользователь нажимает кнопку "Сохранить"
    Тогда студент "Новое Имя" должен быть обновлен в базе данных с возрастом "21" и оценкой "отлично"
  
  Сценарий: Удаление студента
    Дано в базе данных есть студент с именем "Студент для удаления"
    Когда пользователь открывает окно просмотра студентов
    И пользователь выбирает студента "Студент для удаления"
    И пользователь нажимает кнопку "Удалить"
    И пользователь подтверждает удаление
    Тогда студент "Студент для удаления" не должен быть в базе данных
  
  Сценарий: Удаление студента без выбора
    Когда пользователь открывает окно просмотра студентов
    И пользователь нажимает кнопку "Удалить" без выбора студента
    Тогда должен отобразиться диалог с предупреждением "Пожалуйста, выберите студента для удаления"
  
  Сценарий: Обновление таблицы студентов
    Дано в базе данных есть "2" студента
    Когда пользователь открывает окно просмотра студентов
    Тогда в таблице должно отображаться "2" студента
    Когда добавляется новый студент через базу данных
    И пользователь нажимает кнопку "Обновить"
    Тогда в таблице должно отображаться "3" студента